{"version":3,"file":"navbar.js","sources":["../src/o-navbar.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Boosted (v4.3.1): o-navbar.js\n * Licensed under MIT (https://github.com/Orange-OpenSource/Orange-Boosted-Bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME               = 'navbar'\nconst VERSION            = '4.3.1'\nconst DATA_KEY           = 'bs.navbar'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\nconst BREAKPOINT = 768\n\nconst Default = {\n  sticky : false,\n  trigger : ''\n}\n\nconst DefaultType = {\n  sticky : 'boolean',\n  trigger : 'string'\n}\n\nconst Selector = {\n  SUPRA_BAR : '.navbar.supra',\n  MEGAMENU_PANEL : '.mega-menu.panel'\n}\n\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Navbar {\n  constructor(element, config) {\n    this._element         = element\n    this._supraBar        = element.querySelector(Selector.SUPRA_BAR)\n    this._config          = this._getConfig(config)\n    this._initialHeight = $(this._element).outerHeight()\n    this._initialSupraHeight = $(this._supraBar).outerHeight()\n\n    this._addAria()\n\n    if (this._config.sticky) {\n      $(this._element).addClass('fixed-top')\n      $(Selector.MEGAMENU_PANEL).addClass('sticky')\n      $(document.body).css('padding-top', this._initialHeight)\n\n      $(window).on('scroll', () => {\n        const Scroll = $(window).scrollTop()\n        if (Scroll > 0) {\n          $(this._element).addClass('minimized')\n        } else {\n          $(this._element).removeClass('minimized')\n        }\n      })\n    }\n\n    if (this._config.hideSupra) {\n      $(window).on('scroll', () => {\n        if ($(window).innerWidth() < BREAKPOINT) {\n          return\n        }\n\n        const Scroll = $(window).scrollTop()\n\n        if (Scroll > 0) {\n          $(Selector.SUPRA_BAR).hide()\n        } else {\n          $(Selector.SUPRA_BAR).show()\n        }\n      })\n    }\n  }\n\n  // getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  // private\n\n  _getConfig(config) {\n    config = $.extend({}, Default, config)\n    Util.typeCheckConfig(NAME, config, DefaultType)\n    return config\n  }\n\n  _addAria() {\n    $(this._element).find('.navbar .nav-link[data-toggle]').attr('aria-haspopup', true)\n  }\n\n  // static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      let data = $(this).data(DATA_KEY)\n      const _config = {\n        ...Default,\n        ...$(this).data(),\n        ...typeof config === 'object' && config ? config : {}\n      }\n\n      if (!data) {\n        data = new Navbar(this, _config)\n        $(this).data(DATA_KEY, data)\n      }\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Navbar._jQueryInterface\n$.fn[NAME].Constructor = Navbar\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Navbar._jQueryInterface\n}\n\nexport default Navbar\n"],"names":["NAME","VERSION","DATA_KEY","JQUERY_NO_CONFLICT","$","fn","BREAKPOINT","Default","sticky","trigger","DefaultType","Selector","SUPRA_BAR","MEGAMENU_PANEL","Navbar","element","config","_element","_supraBar","querySelector","_config","_getConfig","_initialHeight","outerHeight","_initialSupraHeight","_addAria","addClass","document","body","css","window","on","Scroll","scrollTop","removeClass","hideSupra","innerWidth","hide","show","extend","Util","typeCheckConfig","find","attr","_jQueryInterface","each","data","TypeError","Constructor","noConflict"],"mappings":"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"}